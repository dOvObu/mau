## Mau (WIP)

**Mau** это язык программирования уровня /b/

### Ради маргинального интереса только

Наслаждайтес первоклассной смесью кириллицы и haskell-подобного синтаксиса, в отрыве от любых академических традиций и обязательств.

Особенности:

- *Статическая* типизация
- *Статический* вывод типов
- λ-*выражения* (однострочные/многострочные)
- Функций/процедур/методов -- *нет*.
- *Глобальных переменных нет*. Есть глобальные константы.
- Есть структуры (набор полей равных не лямбдам)
- Есть интерфейсы (набор полей равных лямбдам, первый аргумент которых -- указатель `это` на реализацию структуры реализующей интерфейс)
- Основные типы:

<table style='font-size:95%'>

<tr scope="col">
 <th>id типа</th>
 <th>описание</th>
 <th>пример литерала</th>
</tr>

<tr>
 <td>ц16, ц32, ц64</td>
 <td>целые числа</td>
 <td>-101</td>
</tr>

<tr>
 <td>н16, н32, н64</td>
 <td>натуральные числа</td>
 <td>42</td>
</tr>

<tr>
 <td>в32, в64</td>
 <td>вещественные числа</td>
 <td>3.1416926535898</td>
</tr>

<tr>
 <td>строка</td>
 <td>просто набор рун</td>
 <td>"набо́р ру́н"</td>
</tr>

<tr>
 <td>мсв!(размер :ц64, Т :имятипа)</td>
 <td>массив</td>
 <td>мсв("раз", "два")</td>
</tr>

<tr>
 <td>век!(Т :имятипа)</td>
 <td>вектор (динамический массив)</td>
 <td>("раз", "два", "три")</td>
</tr>

<tr>
 <td>мап!(Т1 :имятипа, Т2 :имятипа)</td>
 <td>хэш таблица</td>
 <td>("раз": 1, "два": 2)</td>
</tr>

<tr>
 <td>\(Т1, ...) Тn</td>
 <td>λ-выражение</td>
 <td>\x у. x+у</td>
</tr>

<tr>
 <td>ато!(Т :имятипа)</td>
 <td>атомик-ссылка</td>
 <td>ато(x)</td>
</tr>

<tr>
 <td>счт!(Т :имятипа)</td>
 <td>указатель со счётчиком</td>
 <td>счт(x)</td>
</tr>

<tr>
 <td>унк!(Т :имятипа)</td>
 <td>уникальный указатель</td>
 <td>унк(x)</td>
</tr>

<tr>
 <td>пользовательский_тип</td>
 <td>структура</td>
 <td>Пёс(кличка: "Шарик")</td>
</tr>

</table>

- Язык должен быть максимально простым и понятным, т.е.:
  - печаталь должно быть удобно
  - читать и отлаживать должно быть просто
  - результирующий должен быть интуитивно понятен при беглом чтении

### TODO

- Обработать определение структур
~~~haskell

------- Объявление пользовательских типов -------
пусть Пёс (
   кличка : строка
)

пусть Такса : Пёс (
   вес_кг : в32
)

--- Начали перечисление 'типовых' λ-выражений ---
пусть для Пёс (
  голос := \ это, х: строка..
    принт(это.кличка + "говорит -- Гав!" + х);
  ;
)

-------- Через '::' обращение к 'типовым' λ-выражениям --------
--- Таким образом, 'а := А(); а.ф(2);' значит 'А::ф(а, 2);' ---
---------------------------------------------------------------
щенок :Пёс = Такса (кличка : "Шарик", вес_кг : 1.5);
щенок2 := щенок.как!(Такса);
щенок2.вес_кг;
щенок2.голос("Угаманись пака я тебя не покусал!");
Пёс::голос(щенок2, "Угаманись!");
~~~

- Обработать определение шаблонов

~~~haskell
шабаш!(
   статический_аргумент : ц32
   Т1                   : имятипа
   Т2                   : имятипа
) пусть Пара (
   первый: T1
   второй: Т2
)

шабаш!(Т : имятипа)
удвой : \(T)T = \ х. х + х;
~~~

